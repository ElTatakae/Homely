{% load static %}

<!doctype html>
<!--
* Tabler - Premium and Open Source dashboard template with responsive and high quality UI.
* @version 1.0.0-beta19
* @link https://tabler.io
* Copyright 2018-2023 The Tabler Authors
* Copyright 2018-2023 codecalm.net Paweł Kuna
* Licensed under MIT (https://github.com/tabler/tabler/blob/master/LICENSE)
-->
<html lang="es">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title> {% block title%}Base {% endblock %}</title>
  {% block estaticos %}
  <link rel="icon" type="image/x-icon" href="{% static 'img/faviconHomely.ico' %}">
  <!-- CSS files -->
  <link href="{% static 'css/tabler.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/tabler-flags.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/tabler-payments.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/tabler-vendors.min.css' %}" rel="stylesheet" />
  <link href="{% static 'css/demo.min.css' %}" rel="stylesheet" />
  {% endblock %}

  <style>
    @import url('https://rsms.me/inter/inter.css');

    :root {
      --tblr-font-sans-serif: 'Inter Var', -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
    }

    body {
      font-feature-settings: "cv03", "cv04", "cv11";
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 1000;
      display: none;
      float: left;
      min-width: 10rem;
      padding: 0.5rem 0;
      margin: 0.125rem 0 0;
      font-size: 1rem;
      color: #212529;
      text-align: left;
      list-style: none;
      background-color: #fff;
      background-clip: padding-box;
      border: 1px solid rgba(0, 0, 0, .15);
      border-radius: .25rem;
    }
  </style>
</head>

<body>
  {% block loader %}
  {% endblock %}

  <script src="{% static 'js/demo-theme.min.js' %}"></script>
  <div class="page">
    <!-- Navbar -->
    <header class="navbar navbar-expand-md d-print-none">
      <div class="container-xl">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu"
          aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
          <a href="{% url 'general:home'%}">
            <img src="{% static 'img/iconHomely.jpeg' %}" width="110" height="32" alt="Homely"
              class="navbar-brand-image">Homely
          </a>
        </h1>
        <div class="navbar-nav flex-row order-md-last">
          <div class="nav-item d-none d-md-flex me-3">
            <div class="btn-list">
            </div>
          </div>
          <div class="d-none d-md-flex">
          </div>
          {% block usuario %}
          <!-- Sidebar -->
          <div class="sidebar">
            <!-- Sidebar user panel (optional) -->

       
            {% endblock %}
          </div>
        </div>
    </header>
    {% block menu %}
    <header class="navbar-expand-md">
      <div class="collapse navbar-collapse" id="navbar-menu">
        <div class="navbar">
          <div class="container-xxl">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <a class="nav-link" href="{% url 'general:home'%}">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                      <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                      <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
                    </svg>
                  </span>
                  <span class="nav-link-title">
                    Inicio
                  </span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <circle cx="12" cy="12" r="9" />
                      <line x1="12" y1="16" x2="12" y2="12" />
                      <line x1="12" y1="8" x2="12.01" y2="8" />
                    </svg>
                  </span>
                  <span class="nav-link-title">
                    Sobre nosotros
                  </span>
                </a>
              </li>

              <li class="nav-item">
                <a class="nav-link" href="./">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M6 3l6 6" />
                      <path d="M3 21l3 -3a4.5 4.5 0 0 0 -6.5 -6.5l3 -3l7 7l3 3l3 3l3 -3l-3 -3" />
                      <path d="M12 10l3 3l6 -6" />
                      <path d="M21 11v-4h-4" />
                    </svg>
                  </span>
                  <span class="nav-link-title">
                    Servicios
                  </span>
                </a>
              </li>
            


              {% block categorias %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" data-bs-auto-close="outside"
                  role="button" aria-expanded="false">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M4 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" />
                      <path d="M4 13m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" />
                      <path d="M14 4m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" />
                      <path d="M14 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z" />
                    </svg>
                  </span>
                  <span class="nav-link-title">
                    Categorías
                  </span>
                </a>
                <div class="dropdown-menu">
                  <div class="dropdown-menu-column">
                    {% for categoria in categorias %}
                    <a class="dropdown-item" href="{% url 'catalogos:listar_servicios_por_categoria' categoria.id %}">                      {{ categoria.nombre }}
                    </a>
                    {% endfor %}
                  </div>
                </div>
              </li>
              {% endblock %}
              {% if not user.is_authenticated %}
              <li class="nav-item dropdown" id="register-dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" role="button"
                  aria-expanded="false">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M15 15l3.35 3.35" /><path d="M9 15l-3.35 3.35" /><path d="M5.65 5.65l3.35 3.35" /><path d="M18.35 5.65l-3.35 3.35" /></svg>
                  </span>
                  <span class="nav-link-title">
                    Registrate en Homely
                  </span>
                </a>
                <div class="dropdown-menu">
                  <a class="dropdown-item" href="{% url 'registrar'%}">
                    Registrarse como proveedor
                  </a>
                </div>
              </li>
              {% endif %}

              {% if not user.is_authenticated %}
              <li class="nav-item">
                <a class="nav-link" href="/login">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                      stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                      <path d="M6 3l6 6" />
                      <path d="M3 21l3 -3a4.5 4.5 0 0 0 -6.5 -6.5l3 -3l7 7l3 3l3 3l3 -3l-3 -3" />
                      <path d="M12 10l3 3l6 -6" />
                      <path d="M21 11v-4h-4" />
                    </svg>
                  </span>
                  <span class="nav-link-title">
                    Iniciar sesión
                  </span>
                </a>
              </li>
              {% endif %}

              {% if  user.is_authenticated %}
              <li class="nav-item" id="register-dropdown">
                <a class="nav-link" href="{% url 'registrar'%}">
                    <span class="nav-link-icon d-md-none d-lg-inline-block">
                      <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" /><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M15 15l3.35 3.35" /><path d="M9 15l-3.35 3.35" /><path d="M5.65 5.65l3.35 3.35" /><path d="M18.35 5.65l-3.35 3.35" /></svg>
                    </span>
                    <span class="nav-link-title">
                        Registrate como proveedor
                    </span>
                </a>
            </li>
              {% endif %}
              
              {% if user.is_authenticated %}
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" data-bs-auto-close="outside"
                  role="button" aria-expanded="false">
                  <span class="nav-link-icon d-md-none d-lg-inline-block">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                    stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                    <circle cx="12" cy="7" r="4" />
                    <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                </svg>
                  </span>
                  <span class="nav-link-title">
                    Mi cuenta
                  </span>
                </a>
                <div class="dropdown-menu">
                  <div class="dropdown-menu-column">
                    <a class="dropdown-item" href="#"> {{ user.username }} </a>
                    <a class="dropdown-item" href="{% url 'logout' %}">Cerrar sesion</a>             
                    </a>
                  </div>
                </div>
              </li>
              {% endif %}

           
            </ul>
        
          </div>
        </div>
      </div>
    </header>
    {% endblock %}
    <div class="page-wrapper">
      <!-- Page header -->
      <div class="page-header d-print-none">
        <div class="container-xl ">
          <div class="row g-2 align-items-center">
            <div class="col">
              {% block contenido %}
              <h2 class="page-title">
                Empty page
              </h2>
              {% endblock %}
            </div>
          </div>
        </div>
      </div>
      <!-- Page body -->
      <div class="page-body">
        <div class="container-xl">
          {% block body %}

          {% endblock %}
        </div>
      </div>

      <footer class="footer  d-print-none ">
        {% block footer %}
        <div class="container-xl">
          <div class="row text-center align-items-center flex-row-reverse">
            <div class="col-lg-auto ms-lg-auto">
              <ul class="list-inline list-inline-dots mb-0">
                <li class="list-inline-item"><a href="./about.html" class="link-secondary">Sobre nosotros</a></li>
                <li class="list-inline-item"><a href="./contact.html" class="link-secondary">Contacto</a></li>
                <li class="list-inline-item"><a href="./terms.html" class="link-secondary">Términos y condiciones</a>
                </li>
                <li class="list-inline-item"><a href="./privacy.html" class="link-secondary">Política de privacidad</a>
                </li>
              </ul>
            </div>
            <div class="col-12 col-lg-auto mt-3 mt-lg-0">
              <ul class="list-inline list-inline-dots mb-0">
                <li class="list-inline-item">
                  Copyright &copy; 2024
                  <a href="." class="link-secondary">Homely</a>.
                  Todos los derechos reservados.
                </li>
              </ul>
            </div>
          </div>
        </div>
        {% endblock %}
      </footer>

    </div>
  </div>

  <!-- Libs JS -->
  <!-- Tabler Core -->
  {% block scripts %}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <script src="{% static 'js/tabler.min.js'%}" defer></script>
  <script src="{% static 'js/demo.min.js'%}" defer></script>
  <!--   Script para  el loader-->
  <script>
    window.addEventListener('load', function () {
      setTimeout(function () {
        document.getElementById('loader').style.display = 'none';
      }, 780); // tiempo en el que se oculta el loader
    });
  </script>
  <!--   Script para mostrar el menú desplegable-->
  <script>
    $(document).ready(function () {
      $('li.dropdown').hover(function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeIn(500);
      }, function () {
        $(this).find('.dropdown-menu').stop(true, true).delay(200).fadeOut(500);
      });
    });
  </script>


  {% endblock %}
</body>

</html>